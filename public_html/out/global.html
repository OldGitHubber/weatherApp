<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="addLeadingZeros"><span class="type-signature"></span>addLeadingZeros<span class="signature">(str, width)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Add leading zeros until the string is width chars wide.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>str</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">String, which should be a number, to make a certain width so add zeros until width reached.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Overall number of digits to return</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line400">line 400</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Zero padded string
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>addLeadingZeros("123",8);
Returns "00000123"</code></pre>



        
            

    

    <h4 class="name" id="getIntPart"><span class="type-signature"></span>getIntPart<span class="signature">(real)</span><span class="type-signature"> &rarr; {Number}</span></h4>

    



<div class="description">
    Get the integer part of a number. Couldn't find a javascript method for doing this
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>real</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">The number to truncate</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line312">line 312</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The truncated integer (still a number type in javascript)
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getLocalTime"><span class="type-signature"></span>getLocalTime<span class="signature">(currentHour, currentMinutes, timeDiff)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Get time diff and seasonal adjustment from timeDiff, and add to UTC hours and minutes.
Couldn't find  way of doing this with a time object to had to hanball it all. A neat
way of removing the integer part (as some time diffs are fractional) is n % 1.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentHour</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">UTC hour</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>currentMinutes</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">UTC minutes</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeDiff</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">JSON object with seasonal and time difference data</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line269">line 269</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Calls <b>addLeadingZeros()</b> to add leading zeros if needed</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getSunTimes"><span class="type-signature"></span>getSunTimes<span class="signature">(timeStr, timeDiff)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Ignore the date and just extract the time info from the sunrise / set string.  e.g. 06:51. 
Call getLocalTime to get a formatted string of time based on time difference. Put timeStr and local time
in an object to return to the caller
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeStr</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Time from sun web service. e.g.  "2016-03-03T06:51:41+00:00"</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeDiff</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">json object  from time diff web service</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line232">line 232</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Object holding local and UTC time strings
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getWeather"><span class="type-signature"></span>getWeather<span class="signature">(location)</span><span class="type-signature"> &rarr; {Undefined}</span></h4>

    



<div class="description">
    The location value is added to the URI to make the service call using also the api provided app key.
As there are several web service calls that rely on data from this one, they are included here and promises used 
to synchronise them.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>location</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">e.g.  "lat=53.76667&lon=-2.71667 or  "q=penworham,uk"</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line88">line 88</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Weather API:</li>
        
            <li><a href="http://openweathermap.org/forecast5">http://openweathermap.org/forecast5</a></li>
        
            <li>Timezone API:</li>
        
            <li><a href="https://developers.google.com/maps/documentation/timezone/intro#Introduction">https://developers.google.com/maps/documentation/timezone/intro#Introduction</a></li>
        
            <li>Sunrise/set:</li>
        
            <li><a href="http://sunrise-sunset.org/api">http://sunrise-sunset.org/api</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    nothing
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Undefined</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getWeatherWithCity"><span class="type-signature"></span>getWeatherWithCity<span class="signature">(city)</span><span class="type-signature"> &rarr; {Undefined}</span></h4>

    



<div class="description">
    This is an entry point into the main weather function getWeather.  This uses city name and optional country as 
the location to look up in the web service. The parameter string will be appended to the service URI
e.g. london or london,uk
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>city</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">e.g. london or london,uk</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line75">line 75</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    nothing
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Undefined</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getWeatherWithCoords"><span class="type-signature"></span>getWeatherWithCoords<span class="signature">(lon, lat)</span><span class="type-signature"> &rarr; {Undefined}</span></h4>

    



<div class="description">
    Simple function to call main weather function with long and lat coords.
This is an entry point into the main weather function getWeather.  It uses lat and lon as the location to 
look up in the web service. The parameter string will be appended to the service URI
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lon</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">longitude positional value. e.g. -2.71667</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lat</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">latitude positional value. e.g. 53.76667</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line62">line 62</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    nothing
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Undefined</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getWindDirectionConvertdegreestocardinalandintercardinaldirection"><span class="type-signature"></span>getWindDirection Convert degrees to cardinal and intercardinal direction<span class="signature">(angle)</span><span class="type-signature"> &rarr; {String}</span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>angle</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">0 to 359 degrees</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line322">line 322</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Direction as NE, SSW etc based on angle
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="putTimeDiff"><span class="type-signature"></span>putTimeDiff<span class="signature">(timeDiff)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Add any seasonal adjustnent and time zone differences to calculate the actual time difference between local and UTC
formatted timeDifference string with leading + if needed. Value may be fractional - some countries have n.5 or n.75
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeDiff</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Holds time difference data in JSON object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="weather.js.html">weather.js</a>, <a href="weather.js.html#line252">line 252</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    time difference e.g. -3.75, +2.5, -5, +7
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addLeadingZeros">addLeadingZeros</a></li><li><a href="global.html#getIntPart">getIntPart</a></li><li><a href="global.html#getLocalTime">getLocalTime</a></li><li><a href="global.html#getSunTimes">getSunTimes</a></li><li><a href="global.html#getWeather">getWeather</a></li><li><a href="global.html#getWeatherWithCity">getWeatherWithCity</a></li><li><a href="global.html#getWeatherWithCoords">getWeatherWithCoords</a></li><li><a href="global.html#getWindDirectionConvertdegreestocardinalandintercardinaldirection">getWindDirection Convert degrees to cardinal and intercardinal direction</a></li><li><a href="global.html#putTimeDiff">putTimeDiff</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sat Mar 05 2016 14:13:10 GMT+0000 (GMT Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>